webpackJsonp([22],{"0z2N":function(a,e,t){"use strict";var r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("Breadcrumb",{staticStyle:{display:"flex","padding-bottom":"20px"}},[t("Breadcrumb-item",{attrs:{href:"/"}},[a._v("首页")]),a._v(" "),t("Breadcrumb-item",{attrs:{href:"#"}},[a._v("账号管理")]),a._v(" "),t("Breadcrumb-item",{attrs:{href:"/accounts"}},[a._v("账号列表")]),a._v(" "),t("Breadcrumb-item",[a._v("账号"+a._s(a.id?"编辑":"新增"))])],1),a._v(" "),t("div",[t("Row",[t("Col",{attrs:{span:"12"}},[t("Form",{ref:"formValidate",attrs:{model:a.formValidate,rules:a.ruleValidate,"label-width":80}},[t("FormItem",{attrs:{label:"账号",prop:"account"}},[a.id?t("Input",{attrs:{placeholder:"请输入账号",disabled:""},model:{value:a.formValidate.account,callback:function(e){a.formValidate.account=e},expression:"formValidate.account"}}):a._e(),a._v(" "),a.id?a._e():t("Input",{attrs:{placeholder:"请输入账号"},model:{value:a.formValidate.account,callback:function(e){a.formValidate.account=e},expression:"formValidate.account"}})],1),a._v(" "),t("FormItem",{attrs:{label:"名称",prop:"name"}},[t("Input",{attrs:{placeholder:"请输入名称"},model:{value:a.formValidate.name,callback:function(e){a.formValidate.name=e},expression:"formValidate.name"}})],1),a._v(" "),t("FormItem",{attrs:{label:"所属分店",prop:"innCode"}},[t("Select",{attrs:{placeholder:"请选择输入门店",filterable:""},model:{value:a.formValidate.innCode,callback:function(e){a.formValidate.innCode=e},expression:"formValidate.innCode"}},a._l(a.inn.allinns,function(e){return t("Option",{key:e.code,attrs:{value:e.code}},[a._v(a._s(e.name))])}))],1),a._v(" "),t("FormItem",{attrs:{label:"性别",prop:"sex"}},[t("RadioGroup",{model:{value:a.formValidate.sex,callback:function(e){a.formValidate.sex=e},expression:"formValidate.sex"}},[t("Radio",{attrs:{label:"M"}},[a._v("男")]),a._v(" "),t("Radio",{attrs:{label:"F"}},[a._v("女")])],1)],1),a._v(" "),t("FormItem",{attrs:{label:"出生年月",prop:"birthDay"}},[t("DatePicker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:a.formValidate.birthDay,callback:function(e){a.formValidate.birthDay=e},expression:"formValidate.birthDay"}})],1),a._v(" "),t("FormItem",{attrs:{label:"手机",prop:"mobile"}},[t("Input",{attrs:{placeholder:"请输入手机"},model:{value:a.formValidate.mobile,callback:function(e){a.formValidate.mobile=e},expression:"formValidate.mobile"}})],1),a._v(" "),t("FormItem",{attrs:{label:"性格",prop:"nature"}},[t("Input",{attrs:{placeholder:"请输入性格"},model:{value:a.formValidate.nature,callback:function(e){a.formValidate.nature=e},expression:"formValidate.nature"}})],1),a._v(" "),t("FormItem",{attrs:{label:"特长",prop:"specialty"}},[t("Input",{attrs:{placeholder:"请输入特长"},model:{value:a.formValidate.specialty,callback:function(e){a.formValidate.specialty=e},expression:"formValidate.specialty"}})],1),a._v(" "),t("Form-item",[t("Button",{staticClass:"margin-right-sm",attrs:{type:"primary"},on:{click:a.handleSave}},[a._v("保存")]),a._v(" "),t("Button",{attrs:{type:"ghost"},on:{click:function(e){a.$router.back(-1)}}},[a._v("返回")])],1)],1)],1),a._v(" "),t("Col",{attrs:{span:"12"}},[t("img",{staticClass:"avatar",attrs:{src:a.formValidate.facesurl}}),a._v(" "),t("Upload",{attrs:{action:a.uploadurl,accept:"image/*",name:"uploadingFile",data:a.uploadparam,"max-size":10240,"on-success":a.uploadSuccess,"show-upload-list":!1}},[t("Button",{attrs:{type:"ghost",icon:"ios-cloud-upload-outline"}},[a._v("上传头像")])],1)],1)],1)],1)],1)},i=[],o={render:r,staticRenderFns:i};e.a=o},8864:function(a,e,t){e=a.exports=t("FZ+f")(!0),e.push([a.i,".avatar{width:200px;height:280px;background:#fff;border-radius:2px}","",{version:3,sources:["D:/wai/WebUI/src/app/Accounts/Form/index.vue"],names:[],mappings:"AACA,QACE,YAAa,AACb,aAAc,AACd,gBAAoB,AACpB,iBAAmB,CACpB",file:"index.vue",sourcesContent:["\n.avatar {\n  width: 200px;\n  height: 280px;\n  background: #ffffff;\n  border-radius: 2px;\n}\n"],sourceRoot:""}])},"8Plo":function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("NYxO"),i=t("ZA0d"),o=function(a){return a&&a.__esModule?a:{default:a}}(i);e.default={name:"form",created:function(){this.id=this.$route.params.id,this.formValidate.innCode=this.$route.query.innCode||"",this.id&&this.get(this.id)},data:function(){return{uploadurl:o.default.API_URL+"/file/uploadFile",uploadparam:{fileType:"userHead"},channels:o.default.CHANNEL,platformgroup:[],id:"",formValidate:{account:"",name:"",innCode:"",faces:"",facesurl:"static/images/yumi_logo.png",sex:"F",birthDay:"",mobile:"",nature:"",specialty:""},ruleValidate:{account:[{required:!0,message:"账号不能为空"},{max:20,message:"标题不能多于 20 个字"}],name:[{required:!0,message:"姓名不能为空"},{max:20,message:"密码不能多于 20 个字"}],innCode:[{required:!0,message:"所属分店不能为空"},{max:20,message:"所属分店不能多于 20 个字"}],sex:[{required:!0,type:"string",message:"请选择性别",trigger:"change"}],birthDay:[{required:!0,type:"date",message:"请选择日期",trigger:"change"}]}}},methods:{get:function(a){this.$store.dispatch("getAccount",{uri:a})},handleSave:function(){var a=this;a.$refs.formValidate.validate(function(e){if(e){var t=a.id?"putAccount":"postAccount",r=a.id;a.formValidate.sysroleList=[],a.$store.dispatch(t,{uri:r,data:a.formValidate}).then(function(){a.$Message.success((a.id?"编辑":"新增")+"成功！"),!a.id&&a.resetFields()})}})},uploadSuccess:function(a,e){a.success&&(this.$set(this.formValidate,"faces",a.data),this.$set(this.formValidate,"facesurl",o.default.STATIC_URL+"/userHead/"+a.data))},checkAllGroupChange:function(a){this.$set(this.formValidate,"platform",a.join("GG"))},resetFields:function(){this.$refs.formValidate.resetFields()}},computed:(0,r.mapState)(["account","inn"]),watch:{"account.account":{handler:function(a){this.$set(this,"formValidate",a.data),a.data.birthDay&&this.$set(this.formValidate,"birthDay",new Date(a.data.birthDay)),a.data.faces&&this.$set(this.formValidate,"facesurl",o.default.STATIC_URL+"/userHead/"+a.data.faces)}}}}},Rg80:function(a,e,t){"use strict";function r(a){t("btLu")}Object.defineProperty(e,"__esModule",{value:!0});var i=t("8Plo"),o=t.n(i),l=t("0z2N"),s=t("VU/8"),n=r,d=s(o.a,l.a,n,null,null);e.default=d.exports},btLu:function(a,e,t){var r=t("8864");"string"==typeof r&&(r=[[a.i,r,""]]),r.locals&&(a.exports=r.locals);t("rjj0")("1903a644",r,!0)}});
//# sourceMappingURL=22.ae4f1c5f18bb1a225f5d.js.map